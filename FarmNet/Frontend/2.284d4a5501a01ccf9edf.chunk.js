webpackJsonp([2],{"7PEK":function(n,o,e){"use strict";var r=e("kVqn"),t=e("BkNc"),a=e("iaRl"),s=e("krS2"),i=e("/oeL"),l=e("bm2B"),u=e("qIy1"),c=e("AhqY");e.d(o,"a",function(){return m});var d=this&&this.__decorate||function(n,o,e,r){var t,a=arguments.length,s=a<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,o,e,r);else for(var i=n.length-1;i>=0;i--)(t=n[i])&&(s=(a<3?t(s):a>3?t(o,e,s):t(o,e))||s);return a>3&&s&&Object.defineProperty(o,e,s),s},f=this&&this.__metadata||function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)},m=function(){function n(n,o,e,r){this.build=n,this.http=o,this.route=e,this.global=r,this.FormSignUp=this.build.group({firstname:["",[l.d.required]],lastname:["",[l.d.required]],email:["",[l.d.required,s.a.IsEmail]],username:["",[l.d.required]],password:["",[l.d.required,s.a.comparePassword("confirmpassword")]],confirmpassword:["",[l.d.required,s.a.comparePassword("password")]],serial_number:["",[l.d.required,s.a.IsSerialNumber]]})}return n.prototype.ngOnInit=function(){},n.prototype.OnSubmit=function(){var n=this;if(this.FormSignUp.valid){this.global.OnShowLoading();var o={firstname:this.FormSignUp.controls.firstname.value,lastname:this.FormSignUp.controls.lastname.value,email:this.FormSignUp.controls.email.value,username:this.FormSignUp.controls.username.value,password:this.FormSignUp.controls.password.value,serial_number:this.FormSignUp.controls.serial_number.value,user_type_id:2};this.http.requestPost("signup",o).subscribe(function(o){o.data&&e.i(u.a)("สำเร็จ","คุณต้องการต้องการเข้าสู่ระบบ?").then(function(o){if(o){var r={username:n.FormSignUp.controls.username.value,password:n.FormSignUp.controls.password.value};n.http.requestPost("signin",r).subscribe(function(o){o.data&&n.route.navigate(["/",c.a.Home]).then(function(){n.global.OnHiddenLoading()}),n.FormSignUp.reset()},function(o){n.global.OnHiddenLoading(),e.i(u.b)("เเจ้งเตือน",o.data.Message)})}else n.route.navigate(["/",c.a.Signin]).then(function(){n.global.OnHiddenLoading()})})},function(o){n.global.OnHiddenLoading(),e.i(u.b)("เเจ้งเตือน",o.data.Message)})}},n.prototype.onComparePassword=function(n,o){""!=n.value.trim()&&""!=o.value.trim()&&n.value===o.value&&(this.FormSignUp.controls.password.setErrors(null),this.FormSignUp.controls.confirmpassword.setErrors(null))},n}();m=d([e.i(i.Component)({selector:"app-sign-up",template:e("IH13"),styles:[e("WOLN")]}),f("design:paramtypes",["function"==typeof(p=void 0!==l.e&&l.e)&&p||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(b=void 0!==t.b&&t.b)&&b||Object,"function"==typeof(g=void 0!==r.a&&r.a)&&g||Object])],m);var p,v,b,g},FCzA:function(n,o,e){"use strict";var r=e("7PEK"),t=e("BkNc");e.d(o,"a",function(){return s});var a=[{path:"",component:r.a}],s=t.a.forChild(a)},IH13:function(n,o){n.exports='<div class="container">\n  <div class="col-md-10 col-md-offset-1">\n    <div class="panel panel-default">\n      <div class="panel-body shadow">\n        <h2 class="text-center">สมัครสมาชิก</h2>\n        <div class="col-md-6 col-md-offset-3">\n          <form [formGroup]="FormSignUp" (click)="OnSubmit()">\n            <div class="form-group">\n              <label for="firstname">\n                <i class="fas fa-address-book"></i> ชื่อ:\n              </label>\n              <input type="text" class="form-control" id="firstname" formControlName="firstname">\n              <validation [control]="FormSignUp.controls[\'firstname\']"></validation>\n            </div>\n            <div class="form-group">\n              <label for="lastname">\n                <i class="fas fa-address-card"></i> นานสกุล:</label>\n              <input type="text" class="form-control" id="lastname" formControlName="lastname">\n              <validation [control]="FormSignUp.controls[\'lastname\']"></validation>\n            </div>\n            <div class="form-group">\n              <label for="username">\n                <i class="fas fa-user"></i> ชื่อผู้ใช้งาน:</label>\n              <input type="text" class="form-control" id="username" formControlName="username">\n              <validation [control]="FormSignUp.controls[\'username\']"></validation>\n            </div>\n            <div class="form-group">\n              <label for="password">\n                <i class="fas fa-key"></i> รหัสผ่าน:</label>\n              <input type="password" class="form-control" id="password" formControlName="password" (blur)="onComparePassword(password, confirm_password)" #password>\n              <validation [control]="FormSignUp.controls[\'password\']"></validation>\n            </div>\n            <div class="form-group">\n              <label for="confirmpassword">\n                <i class="fas fa-check-square"></i> ยืนยันรหัสผ่าน:</label>\n              <input type="password" class="form-control" id="confirmpassword" formControlName="confirmpassword" (blur)="onComparePassword(password, confirmpassword)" #confirmpassword>\n              <validation [control]="FormSignUp.controls[\'confirmpassword\']"></validation>\n            </div>\n            <div class="form-group">\n              <label for="email">\n                <i class="fas fa-envelope-square"></i> อีเมล์:</label>\n              <input type="text" class="form-control" id="email" formControlName="email">\n              <validation [control]="FormSignUp.controls[\'email\']"></validation>\n            </div>\n            <div class="form-group">\n              <label for="serial_number">\n                <i class="fas fa-ticket-alt"></i> serial number:</label>\n              <input type="text" class="form-control" id="serial_number" formControlName="serial_number"> \n              <validation [control]="FormSignUp.controls[\'serial_number\']"></validation>\n            </div>\n            <hr>\n            <div class="text-right">\n              <button type="submit" class="btn btn-success">\n                <i class="fas fa-user-plus"></i> สมัครสมาชิก</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},NXe0:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("bm2B"),t=e("uT1A"),a=e("FCzA"),s=e("/oeL"),i=e("qbdv"),l=e("7PEK");e.d(o,"SignUpModule",function(){return c});var u=this&&this.__decorate||function(n,o,e,r){var t,a=arguments.length,s=a<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,o,e,r);else for(var i=n.length-1;i>=0;i--)(t=n[i])&&(s=(a<3?t(s):a>3?t(o,e,s):t(o,e))||s);return a>3&&s&&Object.defineProperty(o,e,s),s},c=function(){function n(){}return n}();c=u([e.i(s.NgModule)({imports:[r.b,r.c,t.a,i.a,a.a],declarations:[l.a]})],c)},WOLN:function(n,o,e){o=n.exports=e("rP7Y")(!1),o.push([n.i,".panel-body{padding-top:60px;padding-bottom:60px}",""]),n.exports=n.exports.toString()},krS2:function(n,o,e){"use strict";e.d(o,"a",function(){return r});var r=function(){function n(){}return n.markAsTouchedAll=function(n,o){void 0===o&&(o=!0);for(var e in n.controls)if(n.controls.hasOwnProperty(e)){var r=n.controls[e];r.markAsTouched(),r.markAsDirty()}},n.IsNumeric=function(n){return isNaN(n.value)?{numeric:!0}:null},n.IsEmail=function(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.value)?null:{email:!0}},n.IsPassword=function(n){return/^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[#?!@$%^&*_-])[A-z0-9#?!@$%^&*_-]{8,20}$/.test(n.value)?null:{password:!0}},n.IsPhone=function(n){return/\+?[1-9]{1}[0-9]{3,14}/.test(n.value.replace(/[\s\-\(\).]/,""))?null:{phone:!0}},n.IsName=function(n){return/^[A-Za-z]{3}/.test(n.value)?null:{name:!0}},n.IsConfirmPass=function(n){return/^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[#?!@$%^&*_-])[A-z0-9#?!@$%^&*_-]{8,20}$/.test(n.value)?null:{confirmPass:!0}},n.comparePassword=function(n){return function(o){var e=document.getElementById(n);if(!e||o.invalid)return null;var r=e.value.trim();return""==r?null:r===o.value?null:{compare_password:!0}}},n.IsSerialNumber=function(n){return 13==n.value.length?null:{serialNumber:!0}},n.myPattern=function(n,o){return function(e){if(!e.invalid){return new RegExp(n).test(e.value)?null:{message:o}}}},n.IsPostCode=function(n){return/[0-9]{5}/.test(n.value)?null:{postcode:!0}},n.NoSpecialChars=function(n){var o=/^[a-zA-Z0-9\-!&.\(\).= ]+/;return""==n.value?null:null===n.value.match(o)?{no_special:!0}:n.value.match(o)[0]!==n.value?{no_special:!0}:null},n.IsUrl=function(n){return/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/.test(n.value)?null:{url:!0}},n}()}});